const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/animation-DPWqyGYF.js","assets/index-BcO34Nk0.js","assets/index-OwTHV9qk.css","assets/ScrollTrigger-B1GGtPrJ.js"])))=>i.map(i=>d[i]);
import{j as s,r as o,_ as d}from"./index-BcO34Nk0.js";const m="/assets/tech1-DeNcdu5I.webp",h="/assets/tech2-CUyf3xk3.webp",g="/assets/tech3-Bi_62GI4.webp",u=[m,h,g],p=({titre:n,description:a,lien:i,backgroundIndex:e})=>{const r=u[e%u.length];return s.jsxs("div",{className:"card card-veille",style:{backgroundImage:`url(${r})`},children:[s.jsx("b",{}),s.jsxs("div",{className:"content",children:[s.jsxs("div",{className:"header-row",children:[s.jsx("h3",{className:"title",children:n}),s.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer","aria-label":`Voir l'article ${n}`,className:"button"})]}),s.jsx("p",{className:"description",children:a})]})]})},x=()=>{const n=o.useRef(null),[a,i]=o.useState([]);return o.useEffect(()=>{fetch("https://backend-portfolio-2f2t.onrender.com/api/rss").then(e=>e.json()).then(e=>{const c=e.map(t=>t.items[0]).map(t=>({titre:t.title,description:t.contentSnippet?.slice(0,150)+"..."||"Pas de description",lien:t.link,imageUrl:t.enclosure?.url||t.content&&t.content.match(/<img.+?src="(.+?)"/)?.[1]||"https://placehold.co/300x200?text=No+Image"}));i(c)}).catch(e=>console.error("Erreur fetch flux RSS :",e))},[]),o.useEffect(()=>{if(!n.current||a.length===0)return;const e=setTimeout(async()=>{const r=n.current.querySelectorAll(".card");if(console.log("🎯 Éléments à animer :",r),!r.length){console.warn("⚠️ Aucun élément .card à animer !");return}const c=await d(()=>import("./animation-DPWqyGYF.js"),__vite__mapDeps([0,1,2,3]));c.lazyAnimateStagger?await c.lazyAnimateStagger(r,{withScroll:!0}):console.warn("❌ lazyAnimateStagger non trouvé dans animation.js");const{ScrollTrigger:t}=await d(async()=>{const{ScrollTrigger:l}=await import("./ScrollTrigger-B1GGtPrJ.js");return{ScrollTrigger:l}},[]);t.refresh()},100);return()=>clearTimeout(e)},[a]),s.jsxs("section",{id:"Veilles",className:"veilles",ref:n,children:[s.jsx("h2",{children:"Veille Technologique"}),s.jsx("div",{className:"liste-veilles",children:a.map(({titre:e,description:r,lien:c,imageUrl:t},l)=>s.jsx(p,{titre:e,description:r,lien:c,backgroundIndex:l},l))})]})};export{x as default};
